import{d as h,i as x,j as N,k as D,r,c as S,o as A,a as e,b as F,h as B,w as t,e as l,f as o,t as n,v as E,F as G}from"./app-CsJ2IiSe.js";import{_ as I}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DwuI5MXL.js";import"./index-Dz1Zefys.js";const U={class:"d-flex align-center mb-6"},$={class:"text-h6 font-weight-bold text-success mb-0"},j={class:"text-h6 font-weight-bold text-error mb-0"},L={class:"text-h6 font-weight-bold mb-0"},R={class:"text-h6 font-weight-bold mb-0"},q={class:"d-flex align-center ga-4 mb-4"},H={class:"font-weight-medium text-primary"},O=h({__name:"Index",props:{user:{},transactions:{},stats:{},filters:{}},setup(d){const b=d,v=x(b.filters?.search||""),y=x(b.filters?.type||"");N([v,y],([c,s])=>{D.get("/admin/transactions",{search:c,type:s||void 0},{preserveState:!0,replace:!0})});const i=c=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(c||0),w=[{title:"Reference",key:"reference"},{title:"Customer",key:"user"},{title:"Type",key:"type"},{title:"Category",key:"category"},{title:"Amount",key:"amount"},{title:"Status",key:"status"},{title:"Date",key:"created_at"}];return(c,s)=>{const k=r("v-spacer"),p=r("v-btn"),u=r("v-icon"),m=r("v-card-text"),f=r("v-card"),_=r("v-col"),C=r("v-row"),V=r("v-text-field"),z=r("v-btn-toggle"),g=r("v-chip"),T=r("v-data-table");return A(),S(G,null,[e(F(B),{title:"Transactions - Admin"}),e(I,{user:c.$page.props.auth.user},{default:t(()=>[l("div",U,[s[3]||(s[3]=l("div",null,[l("h1",{class:"text-h4 font-weight-bold mb-1"},"Transactions"),l("p",{class:"text-body-2 text-grey"},"View all platform transactions")],-1)),e(k),e(p,{variant:"outlined","prepend-icon":"mdi-download"},{default:t(()=>[...s[2]||(s[2]=[o("Export",-1)])]),_:1})]),e(C,{class:"mb-6"},{default:t(()=>[e(_,{cols:"6",md:"3"},{default:t(()=>[e(f,{color:"success-lighten-5"},{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(u,{color:"success",size:"32",class:"mr-3"},{default:t(()=>[...s[4]||(s[4]=[o("mdi-arrow-down-circle",-1)])]),_:1}),l("div",null,[s[5]||(s[5]=l("p",{class:"text-caption mb-0"},"Total Credits",-1)),l("p",$,n(i(d.stats?.total_credits)),1)])]),_:1})]),_:1})]),_:1}),e(_,{cols:"6",md:"3"},{default:t(()=>[e(f,{color:"error-lighten-5"},{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(u,{color:"error",size:"32",class:"mr-3"},{default:t(()=>[...s[6]||(s[6]=[o("mdi-arrow-up-circle",-1)])]),_:1}),l("div",null,[s[7]||(s[7]=l("p",{class:"text-caption mb-0"},"Total Debits",-1)),l("p",j,n(i(d.stats?.total_debits)),1)])]),_:1})]),_:1})]),_:1}),e(_,{cols:"6",md:"3"},{default:t(()=>[e(f,null,{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(u,{color:"success",size:"32",class:"mr-3"},{default:t(()=>[...s[8]||(s[8]=[o("mdi-calendar-today",-1)])]),_:1}),l("div",null,[s[9]||(s[9]=l("p",{class:"text-caption mb-0"},"Today Credits",-1)),l("p",L,n(i(d.stats?.today_credits)),1)])]),_:1})]),_:1})]),_:1}),e(_,{cols:"6",md:"3"},{default:t(()=>[e(f,null,{default:t(()=>[e(m,{class:"d-flex align-center"},{default:t(()=>[e(u,{color:"error",size:"32",class:"mr-3"},{default:t(()=>[...s[10]||(s[10]=[o("mdi-calendar-today",-1)])]),_:1}),l("div",null,[s[11]||(s[11]=l("p",{class:"text-caption mb-0"},"Today Debits",-1)),l("p",R,n(i(d.stats?.today_debits)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(m,null,{default:t(()=>[l("div",q,[e(V,{modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=a=>v.value=a),"prepend-inner-icon":"mdi-magnify",label:"Search...",variant:"outlined",density:"compact","hide-details":"",style:{"max-width":"300px"}},null,8,["modelValue"]),e(z,{modelValue:y.value,"onUpdate:modelValue":s[1]||(s[1]=a=>y.value=a),variant:"outlined",density:"compact"},{default:t(()=>[e(p,{value:""},{default:t(()=>[...s[12]||(s[12]=[o("All",-1)])]),_:1}),e(p,{value:"credit"},{default:t(()=>[...s[13]||(s[13]=[o("Credits",-1)])]),_:1}),e(p,{value:"debit"},{default:t(()=>[...s[14]||(s[14]=[o("Debits",-1)])]),_:1})]),_:1},8,["modelValue"])]),e(T,{headers:w,items:d.transactions?.data||[],hover:""},{"item.reference":t(({item:a})=>[l("span",H,n(a.reference),1)]),"item.user":t(({item:a})=>[o(n(a.user?.name||"N/A"),1)]),"item.type":t(({item:a})=>[e(g,{color:a.type==="credit"?"success":"error",size:"small",variant:"tonal"},{default:t(()=>[e(u,{start:"",size:"small"},{default:t(()=>[o(n(a.type==="credit"?"mdi-arrow-down":"mdi-arrow-up"),1)]),_:2},1024),o(" "+n(a.type),1)]),_:2},1032,["color"])]),"item.category":t(({item:a})=>[e(g,{size:"small",variant:"outlined"},{default:t(()=>[o(n(a.category),1)]),_:2},1024)]),"item.amount":t(({item:a})=>[l("span",{class:E([a.type==="credit"?"text-success":"text-error","font-weight-medium"])},n(a.type==="credit"?"+":"-")+n(i(a.amount)),3)]),"item.status":t(({item:a})=>[e(g,{color:a.status==="completed"?"success":a.status==="pending"?"warning":"error",size:"small"},{default:t(()=>[o(n(a.status),1)]),_:2},1032,["color"])]),"item.created_at":t(({item:a})=>[o(n(new Date(a.created_at).toLocaleString()),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1},8,["user"])],64)}}});export{O as default};
