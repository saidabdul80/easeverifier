import{d as z,A as D,g as E,j as v,C as T,r as n,c as x,o as k,a as e,u as i,h as W,w as s,b as o,e as u,t as g,F as w,f as j}from"./app-cosHoKij.js";import{_ as G}from"./CustomerLayout.vue_vue_type_script_setup_true_lang-TMacBVLI.js";import"./index-p5wq9x94.js";const U={class:"mb-6"},Y={class:"text-center mb-6 pa-4 bg-grey-lighten-4 rounded-lg"},q={class:"text-h4 font-weight-bold text-primary mb-0"},I={class:"d-flex align-center"},L={class:"d-flex align-center"},Q={class:"text-caption text-grey text-center mt-4"},R=z({__name:"Fund",props:{user:{},wallet:{}},setup(C){const F=D(),a=E({amount:0}),d=v(null),B=v(null),N=v(null),V=[1e3,2e3,5e3,1e4,2e4,5e4];T(()=>{const l=F.props.flash;l?.success&&(B.value=l.success),l?.error&&(N.value=l.error)});const A=l=>{d.value=l,a.amount=l},c=l=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(l||0),M=()=>{a.post("/customer/payment/initialize")};return(l,t)=>{const p=n("v-btn"),_=n("v-col"),b=n("v-row"),P=n("v-text-field"),m=n("v-icon"),y=n("v-radio"),f=n("v-card"),S=n("v-radio-group"),$=n("v-card-text");return k(),x(w,null,[e(i(W),{title:"Fund Wallet - EaseVerifier"}),e(G,{user:l.$page.props.auth.user,wallet:l.$page.props.auth.wallet},{default:s(()=>[o("div",U,[e(p,{variant:"text","prepend-icon":"mdi-arrow-left",href:"/customer/wallet",class:"mb-2"},{default:s(()=>[...t[2]||(t[2]=[u("Back to Wallet",-1)])]),_:1}),t[3]||(t[3]=o("h1",{class:"text-h4 font-weight-bold mb-1"},"Fund Your Wallet",-1)),t[4]||(t[4]=o("p",{class:"text-body-2 text-grey"},"Add funds to your wallet to start verifying",-1))]),e(b,{justify:"center"},{default:s(()=>[e(_,{cols:"12",md:"8",lg:"6"},{default:s(()=>[e(f,null,{default:s(()=>[e($,{class:"pa-6"},{default:s(()=>[o("div",Y,[t[5]||(t[5]=o("p",{class:"text-caption text-grey mb-1"},"Current Balance",-1)),o("p",q,g(c(C.wallet?.total_balance||0)),1)]),t[13]||(t[13]=o("p",{class:"text-subtitle-2 font-weight-medium mb-3"},"Quick Select",-1)),e(b,{class:"mb-6"},{default:s(()=>[(k(),x(w,null,j(V,r=>e(_,{key:r,cols:"4"},{default:s(()=>[e(p,{block:"",variant:d.value===r?"flat":"outlined",color:d.value===r?"primary":void 0,onClick:H=>A(r)},{default:s(()=>[u(g(c(r)),1)]),_:2},1032,["variant","color","onClick"])]),_:2},1024)),64))]),_:1}),e(P,{modelValue:i(a).amount,"onUpdate:modelValue":[t[0]||(t[0]=r=>i(a).amount=r),t[1]||(t[1]=r=>d.value=null)],label:"Enter Amount",type:"number",variant:"outlined","prepend-inner-icon":"mdi-currency-ngn","error-messages":i(a).errors.amount,hint:"Minimum: â‚¦100",class:"mb-4"},null,8,["modelValue","error-messages"]),t[14]||(t[14]=o("p",{class:"text-subtitle-2 font-weight-medium mb-3"},"Payment Method",-1)),e(S,{"model-value":"paystack",class:"mb-6"},{default:s(()=>[e(f,{variant:"outlined",class:"mb-2 pa-3"},{default:s(()=>[e(y,{value:"paystack"},{label:s(()=>[o("div",I,[e(m,{color:"primary",class:"mr-2"},{default:s(()=>[...t[6]||(t[6]=[u("mdi-credit-card",-1)])]),_:1}),t[7]||(t[7]=o("div",null,[o("p",{class:"font-weight-medium mb-0"},"Paystack"),o("p",{class:"text-caption text-grey"},"Card, Bank Transfer, USSD")],-1))])]),_:1})]),_:1}),e(f,{variant:"outlined",class:"pa-3",disabled:""},{default:s(()=>[e(y,{value:"bank",disabled:""},{label:s(()=>[o("div",L,[e(m,{color:"grey",class:"mr-2"},{default:s(()=>[...t[8]||(t[8]=[u("mdi-bank",-1)])]),_:1}),t[9]||(t[9]=o("div",null,[o("p",{class:"font-weight-medium mb-0"},"Bank Transfer"),o("p",{class:"text-caption text-grey"},"Coming soon")],-1))])]),_:1})]),_:1})]),_:1}),e(p,{block:"",color:"primary",size:"x-large",loading:i(a).processing,disabled:!i(a).amount||i(a).amount<100,onClick:M},{default:s(()=>[e(m,{start:""},{default:s(()=>[...t[10]||(t[10]=[u("mdi-wallet-plus",-1)])]),_:1}),u(" Pay "+g(c(i(a).amount)),1)]),_:1},8,["loading","disabled"]),o("p",Q,[e(m,{size:"small"},{default:s(()=>[...t[11]||(t[11]=[u("mdi-lock",-1)])]),_:1}),t[12]||(t[12]=u(" Secured by Paystack. Your payment information is encrypted. ",-1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["user","wallet"])],64)}}});export{R as default};
