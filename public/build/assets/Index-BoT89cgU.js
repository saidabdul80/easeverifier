import{d as E,i as y,j as G,k as I,r as n,c as j,o as S,a as e,b as q,h as L,w as t,e as i,f as s,t as o,m as M,n as H,F as J}from"./app-BE4T21qC.js";import{_ as K}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DqR9WcPv.js";import"./index-Dz1Zefys.js";const O={class:"d-flex align-center mb-6"},Q={class:"text-h4 font-weight-bold text-primary mb-0"},W={class:"text-h4 font-weight-bold text-success mb-0"},X={class:"text-h4 font-weight-bold text-error mb-0"},Y={class:"text-h4 font-weight-bold text-warning mb-0"},Z={class:"d-flex align-center ga-4 mb-4"},tt={class:"font-weight-medium text-primary"},et={class:"bg-grey-lighten-4 pa-1 rounded"},lt={class:"font-weight-medium"},it=E({__name:"Index",props:{user:{},verifications:{},stats:{},filters:{}},setup(m){const V=m,b=y(V.filters?.search||""),k=y(V.filters?.status||""),x=y(!1),r=y(null);G([b,k],([d,l])=>{I.get("/admin/verifications",{search:d,status:l||void 0},{preserveState:!0,replace:!0})});const D=d=>{r.value=d,x.value=!0},A=d=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(d||0),F=[{title:"Reference",key:"reference"},{title:"Customer",key:"user"},{title:"Service",key:"service"},{title:"Search Parameter",key:"search_parameter"},{title:"Status",key:"status"},{title:"Amount",key:"amount_charged"},{title:"Date",key:"created_at"},{title:"",key:"actions",sortable:!1}];return(d,l)=>{const C=n("v-spacer"),u=n("v-btn"),c=n("v-card-text"),f=n("v-card"),g=n("v-col"),P=n("v-row"),h=n("v-text-field"),z=n("v-btn-toggle"),N=n("v-chip"),w=n("v-icon"),B=n("v-data-table"),$=n("v-card-title"),_=n("v-list-item-title"),p=n("v-list-item-subtitle"),v=n("v-list-item"),R=n("v-list"),T=n("v-card-actions"),U=n("v-dialog");return S(),j(J,null,[e(q(L),{title:"Verifications - Admin"}),e(K,{user:d.$page.props.auth.user},{default:t(()=>[i("div",O,[l[5]||(l[5]=i("div",null,[i("h1",{class:"text-h4 font-weight-bold mb-1"},"Verifications"),i("p",{class:"text-body-2 text-grey"},"Monitor all verification requests")],-1)),e(C),e(u,{variant:"outlined","prepend-icon":"mdi-download"},{default:t(()=>[...l[4]||(l[4]=[s("Export",-1)])]),_:1})]),e(P,{class:"mb-6"},{default:t(()=>[e(g,{cols:"6",sm:"3"},{default:t(()=>[e(f,null,{default:t(()=>[e(c,{class:"text-center"},{default:t(()=>[i("p",Q,o(m.stats?.total||0),1),l[6]||(l[6]=i("p",{class:"text-caption text-grey"},"Total",-1))]),_:1})]),_:1})]),_:1}),e(g,{cols:"6",sm:"3"},{default:t(()=>[e(f,null,{default:t(()=>[e(c,{class:"text-center"},{default:t(()=>[i("p",W,o(m.stats?.completed||0),1),l[7]||(l[7]=i("p",{class:"text-caption text-grey"},"Completed",-1))]),_:1})]),_:1})]),_:1}),e(g,{cols:"6",sm:"3"},{default:t(()=>[e(f,null,{default:t(()=>[e(c,{class:"text-center"},{default:t(()=>[i("p",X,o(m.stats?.failed||0),1),l[8]||(l[8]=i("p",{class:"text-caption text-grey"},"Failed",-1))]),_:1})]),_:1})]),_:1}),e(g,{cols:"6",sm:"3"},{default:t(()=>[e(f,null,{default:t(()=>[e(c,{class:"text-center"},{default:t(()=>[i("p",Y,o(m.stats?.pending||0),1),l[9]||(l[9]=i("p",{class:"text-caption text-grey"},"Pending",-1))]),_:1})]),_:1})]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(c,null,{default:t(()=>[i("div",Z,[e(h,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=a=>b.value=a),"prepend-inner-icon":"mdi-magnify",label:"Search...",variant:"outlined",density:"compact","hide-details":"",style:{"max-width":"300px"}},null,8,["modelValue"]),e(z,{modelValue:k.value,"onUpdate:modelValue":l[1]||(l[1]=a=>k.value=a),variant:"outlined",density:"compact"},{default:t(()=>[e(u,{value:""},{default:t(()=>[...l[10]||(l[10]=[s("All",-1)])]),_:1}),e(u,{value:"completed"},{default:t(()=>[...l[11]||(l[11]=[s("Completed",-1)])]),_:1}),e(u,{value:"failed"},{default:t(()=>[...l[12]||(l[12]=[s("Failed",-1)])]),_:1}),e(u,{value:"pending"},{default:t(()=>[...l[13]||(l[13]=[s("Pending",-1)])]),_:1})]),_:1},8,["modelValue"])]),e(B,{headers:F,items:m.verifications?.data||[],hover:""},{"item.reference":t(({item:a})=>[i("span",tt,o(a.reference),1)]),"item.user":t(({item:a})=>[s(o(a.user?.name||"N/A"),1)]),"item.service":t(({item:a})=>[e(N,{size:"small",variant:"tonal",color:"primary"},{default:t(()=>[s(o(a.verification_service?.name||"N/A"),1)]),_:2},1024)]),"item.search_parameter":t(({item:a})=>[i("code",et,o(a.search_parameter),1)]),"item.status":t(({item:a})=>[e(N,{color:a.status==="completed"?"success":a.status==="pending"?"warning":"error",size:"small"},{default:t(()=>[e(w,{start:"",size:"small"},{default:t(()=>[s(o(a.status==="completed"?"mdi-check-circle":a.status==="pending"?"mdi-clock":"mdi-close-circle"),1)]),_:2},1024),s(" "+o(a.status),1)]),_:2},1032,["color"])]),"item.amount_charged":t(({item:a})=>[i("span",lt,o(A(a.amount_charged)),1)]),"item.created_at":t(({item:a})=>[s(o(new Date(a.created_at).toLocaleString()),1)]),"item.actions":t(({item:a})=>[e(u,{icon:"",variant:"text",size:"small",onClick:at=>D(a)},{default:t(()=>[e(w,null,{default:t(()=>[...l[14]||(l[14]=[s("mdi-eye",-1)])]),_:1})]),_:1},8,["onClick"])]),_:1},8,["items"])]),_:1})]),_:1}),e(U,{modelValue:x.value,"onUpdate:modelValue":l[3]||(l[3]=a=>x.value=a),"max-width":"600"},{default:t(()=>[r.value?(S(),M(f,{key:0},{default:t(()=>[e($,{class:"d-flex align-center"},{default:t(()=>[e(w,{color:"primary",class:"mr-2"},{default:t(()=>[...l[15]||(l[15]=[s("mdi-shield-check",-1)])]),_:1}),l[16]||(l[16]=s(" Verification Details ",-1))]),_:1}),e(c,null,{default:t(()=>[e(R,{density:"compact"},{default:t(()=>[e(v,null,{default:t(()=>[e(_,{class:"text-caption"},{default:t(()=>[...l[17]||(l[17]=[s("Reference",-1)])]),_:1}),e(p,null,{default:t(()=>[s(o(r.value.reference),1)]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(_,{class:"text-caption"},{default:t(()=>[...l[18]||(l[18]=[s("Customer",-1)])]),_:1}),e(p,null,{default:t(()=>[s(o(r.value.user?.name),1)]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(_,{class:"text-caption"},{default:t(()=>[...l[19]||(l[19]=[s("Service",-1)])]),_:1}),e(p,null,{default:t(()=>[s(o(r.value.verification_service?.name),1)]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(_,{class:"text-caption"},{default:t(()=>[...l[20]||(l[20]=[s("Search Parameter",-1)])]),_:1}),e(p,null,{default:t(()=>[s(o(r.value.search_parameter),1)]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(_,{class:"text-caption"},{default:t(()=>[...l[21]||(l[21]=[s("Provider",-1)])]),_:1}),e(p,null,{default:t(()=>[s(o(r.value.service_provider?.name||"N/A"),1)]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(_,{class:"text-caption"},{default:t(()=>[...l[22]||(l[22]=[s("Response Time",-1)])]),_:1}),e(p,null,{default:t(()=>[s(o(r.value.response_time_ms)+"ms",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(T,null,{default:t(()=>[e(C),e(u,{variant:"text",onClick:l[2]||(l[2]=a=>x.value=!1)},{default:t(()=>[...l[23]||(l[23]=[s("Close",-1)])]),_:1})]),_:1})]),_:1})):H("",!0)]),_:1},8,["modelValue"])]),_:1},8,["user"])],64)}}});export{it as default};
