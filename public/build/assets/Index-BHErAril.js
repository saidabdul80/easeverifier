import{d as j,z as G,j as C,i as x,k as I,l as N,r as i,c as U,o as w,a as e,b as H,h as L,w as t,n as T,p as F,e as l,f as n,t as o,v as R,F as q}from"./app-CzCLs3up.js";import{_ as J}from"./CustomerLayout.vue_vue_type_script_setup_true_lang-Drfarla3.js";import"./index-Dz1Zefys.js";const K={class:"d-flex align-center mb-6"},O={class:"text-h3 font-weight-bold mb-0"},Q={class:"text-h3 font-weight-bold mb-0"},X={class:"text-h3 font-weight-bold text-primary mb-0"},Y={class:"text-h6 font-weight-bold text-success mb-0"},Z={class:"text-h6 font-weight-bold text-error mb-0"},tt={class:"d-flex ga-4 mb-4"},et={class:"font-weight-medium"},at={class:"d-flex align-center justify-space-between mt-4"},lt={class:"text-caption text-grey"},rt=j({__name:"Index",props:{user:{},wallet:{},transactions:{},stats:{},filters:{}},setup(r){const v=r,S=G(),_=C(()=>S.props.flash),g=x(v.filters?.type||""),k=x(v.filters?.category||""),y=x(v.transactions?.current_page||1),D=C(()=>v.transactions?.last_page||1);I([g,k],([c,a])=>{y.value=1,N.get("/customer/wallet",{type:c||void 0,category:a||void 0,page:1},{preserveState:!0,replace:!0})});const M=c=>{y.value=c,N.get("/customer/wallet",{type:g.value||void 0,category:k.value||void 0,page:c},{preserveState:!0,replace:!0})},d=c=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(c||0),P=[{title:"Reference",key:"reference"},{title:"Type",key:"type"},{title:"Category",key:"category"},{title:"Amount",key:"amount"},{title:"Balance After",key:"balance_after"},{title:"Date",key:"created_at"}];return(c,a)=>{const V=i("v-alert"),h=i("v-spacer"),p=i("v-btn"),u=i("v-card-text"),m=i("v-card"),f=i("v-col"),z=i("v-row"),b=i("v-icon"),A=i("v-card-title"),E=i("v-btn-toggle"),B=i("v-chip"),W=i("v-data-table"),$=i("v-pagination");return w(),U(q,null,[e(H(L),{title:"Wallet - EaseVerifier"}),e(J,{user:c.$page.props.auth.user,wallet:c.$page.props.auth.wallet},{default:t(()=>[_.value?.success?(w(),T(V,{key:0,type:"success",variant:"tonal",closable:"",class:"mb-4"},{default:t(()=>[n(o(_.value.success),1)]),_:1})):F("",!0),_.value?.error?(w(),T(V,{key:1,type:"error",variant:"tonal",closable:"",class:"mb-4"},{default:t(()=>[n(o(_.value.error),1)]),_:1})):F("",!0),l("div",K,[a[3]||(a[3]=l("div",null,[l("h1",{class:"text-h4 font-weight-bold mb-1"},"My Wallet"),l("p",{class:"text-body-2 text-grey"},"Manage your wallet and view transactions")],-1)),e(h),e(p,{color:"primary",size:"large",href:"/customer/wallet/fund","prepend-icon":"mdi-wallet-plus"},{default:t(()=>[...a[2]||(a[2]=[n(" Fund Wallet ",-1)])]),_:1})]),e(z,{class:"mb-6"},{default:t(()=>[e(f,{cols:"12",md:"4"},{default:t(()=>[e(m,{color:"primary"},{default:t(()=>[e(u,{class:"text-white"},{default:t(()=>[a[4]||(a[4]=l("p",{class:"text-overline opacity-80"},"Main Balance",-1)),l("p",O,o(d(r.stats?.balance)),1)]),_:1})]),_:1})]),_:1}),e(f,{cols:"12",md:"4"},{default:t(()=>[e(m,{color:"secondary"},{default:t(()=>[e(u,null,{default:t(()=>[a[5]||(a[5]=l("p",{class:"text-overline opacity-80"},"Bonus Balance",-1)),l("p",Q,o(d(r.stats?.bonus_balance)),1)]),_:1})]),_:1})]),_:1}),e(f,{cols:"12",md:"4"},{default:t(()=>[e(m,null,{default:t(()=>[e(u,null,{default:t(()=>[a[6]||(a[6]=l("p",{class:"text-overline text-grey"},"Total Balance",-1)),l("p",X,o(d(r.stats?.total_balance)),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(z,{class:"mb-6"},{default:t(()=>[e(f,{cols:"6"},{default:t(()=>[e(m,null,{default:t(()=>[e(u,{class:"d-flex align-center"},{default:t(()=>[e(b,{color:"success",size:"32",class:"mr-3"},{default:t(()=>[...a[7]||(a[7]=[n("mdi-arrow-down-circle",-1)])]),_:1}),l("div",null,[a[8]||(a[8]=l("p",{class:"text-caption text-grey mb-0"},"Total Funded",-1)),l("p",Y,o(d(r.stats?.total_funded)),1)])]),_:1})]),_:1})]),_:1}),e(f,{cols:"6"},{default:t(()=>[e(m,null,{default:t(()=>[e(u,{class:"d-flex align-center"},{default:t(()=>[e(b,{color:"error",size:"32",class:"mr-3"},{default:t(()=>[...a[9]||(a[9]=[n("mdi-arrow-up-circle",-1)])]),_:1}),l("div",null,[a[10]||(a[10]=l("p",{class:"text-caption text-grey mb-0"},"Total Spent",-1)),l("p",Z,o(d(r.stats?.total_spent)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[a[12]||(a[12]=l("span",null,"Transaction History",-1)),e(h),e(p,{variant:"outlined",size:"small","prepend-icon":"mdi-download"},{default:t(()=>[...a[11]||(a[11]=[n("Export",-1)])]),_:1})]),_:1}),e(u,null,{default:t(()=>[l("div",tt,[e(E,{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=s=>g.value=s),variant:"outlined",density:"compact"},{default:t(()=>[e(p,{value:""},{default:t(()=>[...a[13]||(a[13]=[n("All",-1)])]),_:1}),e(p,{value:"credit"},{default:t(()=>[...a[14]||(a[14]=[n("Credits",-1)])]),_:1}),e(p,{value:"debit"},{default:t(()=>[...a[15]||(a[15]=[n("Debits",-1)])]),_:1})]),_:1},8,["modelValue"])]),e(W,{headers:P,items:r.transactions?.data||[],"items-per-page":-1,hover:""},{"item.reference":t(({item:s})=>[l("span",et,o(s.reference),1)]),"item.type":t(({item:s})=>[e(B,{color:s.type==="credit"?"success":"error",size:"small",variant:"tonal"},{default:t(()=>[e(b,{start:"",size:"small"},{default:t(()=>[n(o(s.type==="credit"?"mdi-arrow-down":"mdi-arrow-up"),1)]),_:2},1024),n(" "+o(s.type),1)]),_:2},1032,["color"])]),"item.category":t(({item:s})=>[e(B,{size:"small",variant:"outlined"},{default:t(()=>[n(o(s.category),1)]),_:2},1024)]),"item.amount":t(({item:s})=>[l("span",{class:R([s.type==="credit"?"text-success":"text-error","font-weight-bold"])},o(s.type==="credit"?"+":"-")+o(d(s.amount)),3)]),"item.balance_after":t(({item:s})=>[n(o(d(s.balance_after)),1)]),"item.created_at":t(({item:s})=>[n(o(new Date(s.created_at).toLocaleString()),1)]),bottom:t(()=>[...a[16]||(a[16]=[])]),_:1},8,["items"]),l("div",at,[l("span",lt," Showing "+o(((r.transactions?.current_page||1)-1)*(r.transactions?.per_page||15)+1)+" to "+o(Math.min((r.transactions?.current_page||1)*(r.transactions?.per_page||15),r.transactions?.total||0))+" of "+o(r.transactions?.total||0)+" results ",1),e($,{modelValue:y.value,"onUpdate:modelValue":[a[1]||(a[1]=s=>y.value=s),M],length:D.value,"total-visible":7,density:"comfortable"},null,8,["modelValue","length"])])]),_:1})]),_:1})]),_:1},8,["user","wallet"])],64)}}});export{rt as default};
