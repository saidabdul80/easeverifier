import{d as A,z as E,p as M,i as B,j as W,k as $,r,c as G,o as b,a as e,b as I,h as j,w as t,m as C,n as h,e as l,f as n,t as o,v as H,F as L}from"./app-CsJ2IiSe.js";import{_ as P}from"./CustomerLayout.vue_vue_type_script_setup_true_lang-Cchk6_yG.js";import"./index-Dz1Zefys.js";const R={class:"d-flex align-center mb-6"},U={class:"text-h3 font-weight-bold mb-0"},q={class:"text-h3 font-weight-bold mb-0"},J={class:"text-h3 font-weight-bold text-primary mb-0"},K={class:"text-h6 font-weight-bold text-success mb-0"},O={class:"text-h6 font-weight-bold text-error mb-0"},Q={class:"d-flex ga-4 mb-4"},X={class:"font-weight-medium"},et=A({__name:"Index",props:{user:{},wallet:{},transactions:{},stats:{},filters:{}},setup(d){const g=d,N=E(),_=M(()=>N.props.flash),v=B(g.filters?.type||""),V=B(g.filters?.category||"");W([v,V],([c,a])=>{$.get("/customer/wallet",{type:c||void 0,category:a||void 0},{preserveState:!0,replace:!0})});const i=c=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(c||0),T=[{title:"Reference",key:"reference"},{title:"Type",key:"type"},{title:"Category",key:"category"},{title:"Amount",key:"amount"},{title:"Balance After",key:"balance_after"},{title:"Date",key:"created_at"}];return(c,a)=>{const x=r("v-alert"),w=r("v-spacer"),f=r("v-btn"),u=r("v-card-text"),m=r("v-card"),p=r("v-col"),k=r("v-row"),y=r("v-icon"),F=r("v-card-title"),D=r("v-btn-toggle"),z=r("v-chip"),S=r("v-data-table");return b(),G(L,null,[e(I(j),{title:"Wallet - EaseVerifier"}),e(P,{user:c.$page.props.auth.user,wallet:c.$page.props.auth.wallet},{default:t(()=>[_.value?.success?(b(),C(x,{key:0,type:"success",variant:"tonal",closable:"",class:"mb-4"},{default:t(()=>[n(o(_.value.success),1)]),_:1})):h("",!0),_.value?.error?(b(),C(x,{key:1,type:"error",variant:"tonal",closable:"",class:"mb-4"},{default:t(()=>[n(o(_.value.error),1)]),_:1})):h("",!0),l("div",R,[a[2]||(a[2]=l("div",null,[l("h1",{class:"text-h4 font-weight-bold mb-1"},"My Wallet"),l("p",{class:"text-body-2 text-grey"},"Manage your wallet and view transactions")],-1)),e(w),e(f,{color:"primary",size:"large",href:"/customer/wallet/fund","prepend-icon":"mdi-wallet-plus"},{default:t(()=>[...a[1]||(a[1]=[n(" Fund Wallet ",-1)])]),_:1})]),e(k,{class:"mb-6"},{default:t(()=>[e(p,{cols:"12",md:"4"},{default:t(()=>[e(m,{color:"primary"},{default:t(()=>[e(u,{class:"text-white"},{default:t(()=>[a[3]||(a[3]=l("p",{class:"text-overline opacity-80"},"Main Balance",-1)),l("p",U,o(i(d.stats?.balance)),1)]),_:1})]),_:1})]),_:1}),e(p,{cols:"12",md:"4"},{default:t(()=>[e(m,{color:"secondary"},{default:t(()=>[e(u,null,{default:t(()=>[a[4]||(a[4]=l("p",{class:"text-overline opacity-80"},"Bonus Balance",-1)),l("p",q,o(i(d.stats?.bonus_balance)),1)]),_:1})]),_:1})]),_:1}),e(p,{cols:"12",md:"4"},{default:t(()=>[e(m,null,{default:t(()=>[e(u,null,{default:t(()=>[a[5]||(a[5]=l("p",{class:"text-overline text-grey"},"Total Balance",-1)),l("p",J,o(i(d.stats?.total_balance)),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(k,{class:"mb-6"},{default:t(()=>[e(p,{cols:"6"},{default:t(()=>[e(m,null,{default:t(()=>[e(u,{class:"d-flex align-center"},{default:t(()=>[e(y,{color:"success",size:"32",class:"mr-3"},{default:t(()=>[...a[6]||(a[6]=[n("mdi-arrow-down-circle",-1)])]),_:1}),l("div",null,[a[7]||(a[7]=l("p",{class:"text-caption text-grey mb-0"},"Total Funded",-1)),l("p",K,o(i(d.stats?.total_funded)),1)])]),_:1})]),_:1})]),_:1}),e(p,{cols:"6"},{default:t(()=>[e(m,null,{default:t(()=>[e(u,{class:"d-flex align-center"},{default:t(()=>[e(y,{color:"error",size:"32",class:"mr-3"},{default:t(()=>[...a[8]||(a[8]=[n("mdi-arrow-up-circle",-1)])]),_:1}),l("div",null,[a[9]||(a[9]=l("p",{class:"text-caption text-grey mb-0"},"Total Spent",-1)),l("p",O,o(i(d.stats?.total_spent)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(F,{class:"d-flex align-center"},{default:t(()=>[a[11]||(a[11]=l("span",null,"Transaction History",-1)),e(w),e(f,{variant:"outlined",size:"small","prepend-icon":"mdi-download"},{default:t(()=>[...a[10]||(a[10]=[n("Export",-1)])]),_:1})]),_:1}),e(u,null,{default:t(()=>[l("div",Q,[e(D,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=s=>v.value=s),variant:"outlined",density:"compact"},{default:t(()=>[e(f,{value:""},{default:t(()=>[...a[12]||(a[12]=[n("All",-1)])]),_:1}),e(f,{value:"credit"},{default:t(()=>[...a[13]||(a[13]=[n("Credits",-1)])]),_:1}),e(f,{value:"debit"},{default:t(()=>[...a[14]||(a[14]=[n("Debits",-1)])]),_:1})]),_:1},8,["modelValue"])]),e(S,{headers:T,items:d.transactions?.data||[],hover:""},{"item.reference":t(({item:s})=>[l("span",X,o(s.reference),1)]),"item.type":t(({item:s})=>[e(z,{color:s.type==="credit"?"success":"error",size:"small",variant:"tonal"},{default:t(()=>[e(y,{start:"",size:"small"},{default:t(()=>[n(o(s.type==="credit"?"mdi-arrow-down":"mdi-arrow-up"),1)]),_:2},1024),n(" "+o(s.type),1)]),_:2},1032,["color"])]),"item.category":t(({item:s})=>[e(z,{size:"small",variant:"outlined"},{default:t(()=>[n(o(s.category),1)]),_:2},1024)]),"item.amount":t(({item:s})=>[l("span",{class:H([s.type==="credit"?"text-success":"text-error","font-weight-bold"])},o(s.type==="credit"?"+":"-")+o(i(s.amount)),3)]),"item.balance_after":t(({item:s})=>[n(o(i(s.balance_after)),1)]),"item.created_at":t(({item:s})=>[n(o(new Date(s.created_at).toLocaleString()),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1},8,["user","wallet"])],64)}}});export{et as default};
