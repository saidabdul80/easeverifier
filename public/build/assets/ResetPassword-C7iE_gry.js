import{d as C,g as P,j as v,k as z,r as l,p as N,o as b,w as n,a as r,b as c,u as s,h,e as f,i as S,c as B,q as U,x as $,t as A}from"./app-ByfILzDQ.js";import{_ as E}from"./AuthLayout.vue_vue_type_script_setup_true_lang-BcNcdC2M.js";import{u as F}from"./index-Ddl6S3gL.js";import"./index-p5wq9x94.js";import"./index-DXBC_7B2.js";const R={class:"text-center mb-6"},I={key:0,class:"mb-4"},Z={class:"d-flex align-center ga-2 mb-1"},T=C({__name:"ResetPassword",props:{token:{},email:{}},setup(g){const w=g,o=P({token:w.token,email:w.email,password:"",password_confirmation:""}),d=v(!1),p=v(!1),m=z(()=>{const a=o.password;if(!a)return{score:0,label:"",color:"grey"};let e=0;a.length>=8&&e++,/[a-z]/.test(a)&&/[A-Z]/.test(a)&&e++,/\d/.test(a)&&e++,/[^a-zA-Z0-9]/.test(a)&&e++;const i=[{score:0,label:"",color:"grey"},{score:1,label:"Weak",color:"error"},{score:2,label:"Fair",color:"warning"},{score:3,label:"Good",color:"info"},{score:4,label:"Strong",color:"success"}];return i[e]||i[0]}),_=()=>{o.post(F(),{onFinish:()=>o.reset("password","password_confirmation")})};return(a,e)=>{const i=l("v-icon"),y=l("v-avatar"),u=l("v-text-field"),k=l("v-progress-linear"),x=l("v-btn"),V=l("v-form");return b(),N(E,{title:"Set new password",description:"Your new password must be different from previous passwords"},{default:n(()=>[r(s(h),{title:"Reset Password - EaseVerifier"}),c("div",R,[r(y,{color:"primary-lighten-5",size:"80",class:"mb-4"},{default:n(()=>[r(i,{color:"primary",size:"40"},{default:n(()=>[...e[5]||(e[5]=[f("mdi-lock-check",-1)])]),_:1})]),_:1})]),r(V,{onSubmit:S(_,["prevent"])},{default:n(()=>[r(u,{modelValue:s(o).email,"onUpdate:modelValue":e[0]||(e[0]=t=>s(o).email=t),label:"Email Address",type:"email","prepend-inner-icon":"mdi-email-outline","error-messages":s(o).errors.email,readonly:"",disabled:"",class:"mb-1"},null,8,["modelValue","error-messages"]),r(u,{modelValue:s(o).password,"onUpdate:modelValue":e[1]||(e[1]=t=>s(o).password=t),label:"New Password",type:d.value?"text":"password","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":d.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[2]||(e[2]=t=>d.value=!d.value),placeholder:"Create a strong password","error-messages":s(o).errors.password,autocomplete:"new-password",autofocus:"",class:"mb-0"},null,8,["modelValue","type","append-inner-icon","error-messages"]),s(o).password?(b(),B("div",I,[c("div",Z,[r(k,{"model-value":m.value.score*25,color:m.value.color,height:"4",rounded:"",class:"flex-grow-1"},null,8,["model-value","color"]),c("span",{class:$(["text-caption font-weight-medium",`text-${m.value.color}`])},A(m.value.label),3)]),e[6]||(e[6]=c("p",{class:"text-caption text-grey"}," Use 8+ characters with uppercase, lowercase, numbers & symbols ",-1))])):U("",!0),r(u,{modelValue:s(o).password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=t=>s(o).password_confirmation=t),label:"Confirm New Password",type:p.value?"text":"password","prepend-inner-icon":"mdi-lock-check-outline","append-inner-icon":p.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[4]||(e[4]=t=>p.value=!p.value),placeholder:"Confirm your new password","error-messages":s(o).errors.password_confirmation,autocomplete:"new-password",class:"mb-4"},null,8,["modelValue","type","append-inner-icon","error-messages"]),r(x,{type:"submit",color:"primary",size:"x-large",block:"",loading:s(o).processing,disabled:s(o).processing},{default:n(()=>[r(i,{start:""},{default:n(()=>[...e[7]||(e[7]=[f("mdi-lock-reset",-1)])]),_:1}),e[8]||(e[8]=f(" Reset Password ",-1))]),_:1},8,["loading","disabled"])]),_:1})]),_:1})}}});export{T as default};
