import{d as P,g as R,m as T,r as a,c as G,o as V,a as e,u,h as Y,w as t,b as s,e as r,t as o,j,k as L,i as M,y as U,F as W}from"./app-B6bp-6Tn.js";import{_ as q}from"./CustomerLayout.vue_vue_type_script_setup_true_lang-dVhBGC3F.js";import"./index-p5wq9x94.js";const A={class:"mb-6"},H={class:"d-flex align-center"},J={class:"text-h4 font-weight-bold mb-0"},K={class:"text-body-2 text-grey"},Z=P({__name:"Show",props:{user:{},service:{},price:{},walletBalance:{}},setup(n){const m=n,c=R({search_parameter:""}),v=T(!1),d=i=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(i||0),f=()=>m.walletBalance>=m.price,E=()=>({nin:"Enter 11-digit NIN",bvn:"Enter 11-digit BVN",cac:"Enter RC Number","drivers-license":"Enter License Number",passport:"Enter Passport Number"})[m.service.slug]||"Enter search parameter",k=()=>{f()&&(v.value=!0,c.post(`/customer/verify/${m.service.id}`,{preserveScroll:!0,onFinish:()=>v.value=!1,onError:i=>{console.error("Form errors:",i)}}))};return(i,l)=>{const p=a("v-btn"),N=a("v-icon"),C=a("v-avatar"),_=a("v-card-title"),F=a("v-alert-title"),h=a("v-alert"),S=a("v-text-field"),$=a("v-form"),b=a("v-card-text"),g=a("v-card"),B=a("v-col"),y=a("v-list-item-title"),w=a("v-list-item-subtitle"),x=a("v-list-item"),z=a("v-list"),I=a("v-row");return V(),G(W,null,[e(u(Y),{title:`${n.service.name} - EaseVerifier`},null,8,["title"]),e(q,{user:i.$page.props.auth.user,wallet:i.$page.props.auth.wallet},{default:t(()=>[s("div",A,[e(p,{variant:"text","prepend-icon":"mdi-arrow-left",href:"/customer/verify",class:"mb-2"},{default:t(()=>[...l[1]||(l[1]=[r("Back to Services",-1)])]),_:1}),s("div",H,[e(C,{color:"primary-lighten-5",size:"56",class:"mr-4"},{default:t(()=>[e(N,{color:"primary",size:"28"},{default:t(()=>[r(o(n.service.icon||"mdi-shield-check"),1)]),_:1})]),_:1}),s("div",null,[s("h1",J,o(n.service.name),1),s("p",K,o(n.service.description),1)])])]),e(I,null,{default:t(()=>[e(B,{cols:"12",md:"8"},{default:t(()=>[e(g,null,{default:t(()=>[e(_,null,{default:t(()=>[...l[2]||(l[2]=[r("Enter Details",-1)])]),_:1}),e(b,null,{default:t(()=>[f()?L("",!0):(V(),j(h,{key:0,type:"warning",variant:"tonal",class:"mb-4"},{append:t(()=>[e(p,{color:"warning",variant:"tonal",href:"/customer/wallet/fund"},{default:t(()=>[...l[4]||(l[4]=[r("Fund Wallet",-1)])]),_:1})]),default:t(()=>[e(F,null,{default:t(()=>[...l[3]||(l[3]=[r("Insufficient Balance",-1)])]),_:1}),r(" Your wallet balance ("+o(d(n.walletBalance))+") is less than the verification cost ("+o(d(n.price))+"). ",1)]),_:1})),e($,{onSubmit:M(k,["prevent"])},{default:t(()=>[e(S,{modelValue:u(c).search_parameter,"onUpdate:modelValue":l[0]||(l[0]=D=>u(c).search_parameter=D),label:n.service.name+" Number",placeholder:E(),variant:"outlined","error-messages":u(c).errors.search_parameter,"prepend-inner-icon":"mdi-magnify",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),e(h,{type:"info",variant:"tonal",density:"compact",class:"mb-4"},{default:t(()=>[l[5]||(l[5]=s("strong",null,"Cost:",-1)),r(" "+o(d(n.price))+" will be deducted from your wallet. ",1)]),_:1}),e(p,{type:"submit",color:"primary",size:"large",block:"",loading:v.value||u(c).processing,disabled:!f()||!u(c).search_parameter},{default:t(()=>[e(N,{start:""},{default:t(()=>[...l[6]||(l[6]=[r("mdi-shield-search",-1)])]),_:1}),l[7]||(l[7]=r(" Verify Now ",-1))]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(B,{cols:"12",md:"4"},{default:t(()=>[e(g,null,{default:t(()=>[e(_,null,{default:t(()=>[...l[8]||(l[8]=[r("Service Info",-1)])]),_:1}),e(b,null,{default:t(()=>[e(z,{density:"compact"},{default:t(()=>[e(x,null,{default:t(()=>[e(y,{class:"text-caption"},{default:t(()=>[...l[9]||(l[9]=[r("Price",-1)])]),_:1}),e(w,{class:"text-h6 font-weight-bold text-primary"},{default:t(()=>[r(o(d(n.price)),1)]),_:1})]),_:1}),e(x,null,{default:t(()=>[e(y,{class:"text-caption"},{default:t(()=>[...l[10]||(l[10]=[r("Your Balance",-1)])]),_:1}),e(w,{class:U([f()?"text-success":"text-error","font-weight-medium"])},{default:t(()=>[r(o(d(n.walletBalance)),1)]),_:1},8,["class"])]),_:1}),e(x,null,{default:t(()=>[e(y,{class:"text-caption"},{default:t(()=>[...l[11]||(l[11]=[r("Response Time",-1)])]),_:1}),e(w,null,{default:t(()=>[...l[12]||(l[12]=[r("~2-5 seconds",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{class:"mt-4"},{default:t(()=>[e(_,null,{default:t(()=>[...l[13]||(l[13]=[r("Tips",-1)])]),_:1}),e(b,null,{default:t(()=>[...l[14]||(l[14]=[s("ul",{class:"text-body-2 text-grey pl-4"},[s("li",{class:"mb-2"},"Ensure the number is correct before verifying"),s("li",{class:"mb-2"},"Verification charges are non-refundable"),s("li",null,"Results are stored in your history")],-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["user","wallet"])],64)}}});export{Z as default};
